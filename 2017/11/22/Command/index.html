<!DOCTYPE html><html lang="EN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Command · iVerb.X</title><meta name="description" content="Command"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://github.com/iVerb/iverb.github.io/atom.xml" title="iVerb.X"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Command</h1><div class="post-info">Nov 21, 2017</div><div class="post-content"><h4 id="获取Blendshape通道名字及weight值"><a href="#获取Blendshape通道名字及weight值" class="headerlink" title="获取Blendshape通道名字及weight值"></a>获取Blendshape通道名字及weight值</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">aliasAttr</span> -q face_bsNode;</span><br><span class="line">&gt;&gt;&gt;<span class="comment">// Result: noseDroop_bsGeo weight[100]</span></span><br><span class="line"><span class="keyword">listAttr</span> -m <span class="string">"face_bsNode.weight"</span></span><br><span class="line">&gt;&gt;&gt;<span class="comment">// Result: noseDroop_bsGeo</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''通过blendShape名字通道属性获取对应的blend名字'''</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">blendNode = cmds.ls(<span class="string">"face_bsNode"</span>)</span><br><span class="line"><span class="comment">###blendNodeName = blendNode[0]</span></span><br><span class="line"><span class="comment">###blends = cmds.getAttr((blendNode[0] +(".weight")))</span></span><br><span class="line"><span class="comment">###blends = cmds.aliasAttr((blendNode[0] +(".weight")),query=True)</span></span><br><span class="line">blends = cmds.aliasAttr(blendNode,query=<span class="keyword">True</span>)</span><br><span class="line">blendName = blends[::<span class="number">2</span>]</span><br><span class="line"><span class="comment">#weight = blends[1::2]</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> blendName:</span><br><span class="line">    key = cmds.getAttr(<span class="string">"%s.%s"</span>%(blendNode[<span class="number">0</span>],name),lock = <span class="keyword">True</span> ,settable= <span class="keyword">True</span>)</span><br><span class="line">    <span class="keyword">if</span> key <span class="keyword">is</span> <span class="keyword">False</span>:</span><br><span class="line">        <span class="keyword">print</span> name</span><br></pre></td></tr></table></figure>
<h4 id="获取CPU名字及参数"><a href="#获取CPU名字及参数" class="headerlink" title="获取CPU名字及参数"></a>获取CPU名字及参数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maya.mel <span class="keyword">as</span> mm</span><br><span class="line">get_cpu_info = mm.eval(<span class="string">"system(\"wmic cpu get name\")"</span>)</span><br><span class="line">print(get_cpu_info)</span><br><span class="line"><span class="comment">### mel:string $get_cpu = `system("wmic cpu get name")`</span></span><br></pre></td></tr></table></figure>
<h4 id="获取摄像机范围内物体"><a href="#获取摄像机范围内物体" class="headerlink" title="获取摄像机范围内物体"></a>获取摄像机范围内物体</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maya.OpenMaya <span class="keyword">as</span> om</span><br><span class="line"><span class="keyword">import</span> maya.OpenMayaUI <span class="keyword">as</span> mui</span><br><span class="line">activeView = mui.M3dView.active3dView()</span><br><span class="line">om.MGlobal.selectFromScreen(<span class="number">0</span>,<span class="number">0</span>,activeView.portWidth(),activeView.portHeight(),om.MGlobal.kReplaceList)</span><br></pre></td></tr></table></figure>
<h4 id="list及append用法"><a href="#list及append用法" class="headerlink" title="list及append用法"></a>list及append用法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">listA = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(a):</span><br><span class="line">    listA.append(i)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">print</span> listA  </span><br><span class="line"><span class="keyword">del</span>(listA)  </span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> gc</span><br><span class="line">gc.collect()</span><br><span class="line"><span class="string">'''A new command GCCmdCSharp has been added to the .Net SDK examples.nll.dll.</span></span><br><span class="line"><span class="string">You can use this command to force gc collection.'''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a=<span class="string">'abc'</span></span><br><span class="line">c=[]</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> a:</span><br><span class="line">    c.append(b)</span><br><span class="line"><span class="keyword">print</span> c</span><br></pre></td></tr></table></figure>
<h4 id="mel调用py文件"><a href="#mel调用py文件" class="headerlink" title="mel调用py文件"></a>mel调用py文件</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">python(<span class="string">"D:/maya_tools/toolways_2016/script/lightFromView.py"</span>)</span><br><span class="line"></span><br><span class="line">python(<span class="string">"execfile('D:/maya_tools/toolways_2016/script/lightFromView.py')"</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">'''lightFromView.py '''</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lightFromView</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#select the modelEditor camera</span></span><br><span class="line">    selection = cmds.ls(<span class="string">'persp'</span>)</span><br><span class="line">    <span class="comment">#Get the transform values</span></span><br><span class="line">    translation = cmds.xform(selection, query=<span class="number">1</span>, ws=<span class="number">1</span>, rp=<span class="number">1</span>)</span><br><span class="line">    rotation = cmds.xform(selection, query=<span class="number">1</span>, ws=<span class="number">1</span>, ro=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Create aiAreaLight</span></span><br><span class="line">    <span class="comment">#myLight # Result: (u'aiAreaLightShape1', u'aiAreaLight1') #</span></span><br><span class="line">    myLight = mtoa.utils.createLocator(<span class="string">'aiAreaLight'</span>, asLight=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Apply transforms to the light</span></span><br><span class="line">    cmds.xform( myLight[<span class="number">1</span>], r=<span class="number">1</span>, ro=rotation, t=translation, s=(<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Set attributtes to the light</span></span><br><span class="line">    cmds.setAttr(myLight[<span class="number">0</span>] + <span class="string">".aiTranslator"</span> , <span class="string">'quad'</span>, type=<span class="string">"string"</span>)</span><br><span class="line">    cmds.setAttr(myLight[<span class="number">0</span>] + <span class="string">".intensity"</span> , <span class="number">1</span>)</span><br><span class="line">    cmds.setAttr(myLight[<span class="number">0</span>] + <span class="string">".aiSamples"</span> , <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">lightFromView()</span><br></pre></td></tr></table></figure>
<h4 id="mel-分离字段"><a href="#mel-分离字段" class="headerlink" title="mel 分离字段"></a>mel 分离字段</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line">$numTokens = <span class="string">`tokenize "pSphere1.vtx[234]" "." $buffer`</span>;</span><br><span class="line"><span class="keyword">findRelatedSkinCluster</span>( $buffer[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">print</span> $numTokens;   <span class="comment">//2</span></span><br><span class="line"><span class="keyword">print</span> $buffer;   <span class="comment">//pSphere1  vtx[234]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span> $fileName = <span class="string">`file -q -ns -shn`</span>;</span><br><span class="line"><span class="keyword">int</span> $num = <span class="string">`size $fileName`</span>;</span><br><span class="line"><span class="keyword">string</span> $nameSufix[];</span><br><span class="line"><span class="keyword">int</span> $nameSpeces = <span class="string">`tokenize $fileName "_" $nameSufix`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> $num = <span class="string">`size $sel`</span>;</span><br><span class="line"><span class="keyword">string</span> $nameSuf[];</span><br><span class="line"><span class="keyword">int</span> $nameNo = <span class="string">`tokenize $sel[0] "_" $nameSuf`</span>;</span><br><span class="line"><span class="keyword">int</span> $sufixNo = <span class="string">`size $nameSuf[$nameNo-1]`</span>+<span class="number">1</span>;</span><br><span class="line">$names = <span class="string">`substring $sel[0] 1 ($num+$sufixNo)`</span>;</span><br><span class="line"><span class="keyword">print</span> ($names);</span><br></pre></td></tr></table></figure>
<h4 id="python-获取蒙皮节点"><a href="#python-获取蒙皮节点" class="headerlink" title="python 获取蒙皮节点"></a>python 获取蒙皮节点</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymel.core.language <span class="keyword">import</span> Mel</span><br><span class="line">mel = Mel()</span><br><span class="line">sel=mel.ls(sl=<span class="number">1</span>,fl=<span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">skinCluster = mel.findRelatedSkinCluster(sel.split(<span class="string">"."</span>)[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<h4 id="python-获取maya-ico-名字"><a href="#python-获取maya-ico-名字" class="headerlink" title="python 获取maya ico 名字"></a>python 获取maya ico 名字</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">cmds.window()</span><br><span class="line">scrollLayout = cmds.scrollLayout(w=<span class="number">150</span>)</span><br><span class="line">cmds.gridLayout( numberOfColumns=<span class="number">30</span>, cellWidthHeight=(<span class="number">30</span>, <span class="number">30</span>) )</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> cmds.resourceManager(nameFilter=<span class="string">"*.png"</span>):</span><br><span class="line">    cmds.symbolButton (image = a,c = <span class="string">'os.popen( "cmd /c echo %s | clip")'</span>%(a) )</span><br><span class="line">cmds.showWindow()</span><br></pre></td></tr></table></figure>
<h4 id="mel-blendshape"><a href="#mel-blendshape" class="headerlink" title="mel  blendshape"></a>mel  blendshape</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//blendshape   </span></span><br><span class="line"><span class="keyword">string</span> $a[] = <span class="string">`ls -sl -fl`</span>;</span><br><span class="line"><span class="keyword">string</span> $all_BL = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">string</span> $new_node = <span class="string">`createNode closestPointOnMesh`</span> ;</span><br><span class="line"><span class="keyword">for</span> ($i=<span class="number">0</span>;$i&lt;(<span class="keyword">size</span>($a)<span class="number">-1</span>);$i++)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">connectAttr</span> -f ($a[$i]+<span class="string">".outMesh"</span>) ($new_node+<span class="string">".inMesh"</span>); </span><br><span class="line">    <span class="keyword">string</span> $new_def[] = <span class="string">`duplicate -rr $a[size($a)-1]`</span>;</span><br><span class="line">    $all_BL += ($new_def[<span class="number">0</span>]+<span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">setAttr</span> ($new_def[<span class="number">0</span>]+<span class="string">".visibility"</span>) <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> $num_ver[] = <span class="string">`polyEvaluate -vertex $new_def[0]`</span>;</span><br><span class="line">    <span class="keyword">string</span> $all_v[];</span><br><span class="line">    <span class="keyword">for</span> ($j=<span class="number">0</span>;$j&lt;$num_ver[<span class="number">0</span>];$j++)</span><br><span class="line">    &#123;</span><br><span class="line">        $all_v[<span class="keyword">size</span>($all_v)]= ($new_def[<span class="number">0</span>]+<span class="string">".vtx["</span>+$j+<span class="string">"]"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">print</span> $all_v;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">for</span> ($av <span class="keyword">in</span> $all_v)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">float</span> $get_v_pos[] = <span class="string">`xform -q -ws -t $av`</span>;</span><br><span class="line">            <span class="keyword">setAttr</span> ($new_node+<span class="string">".inPosition"</span>) $get_v_pos[<span class="number">0</span>] $get_v_pos[<span class="number">1</span>] $get_v_pos[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">float</span> $get_v_pos_new[] = <span class="string">`getAttr ($new_node+".position")`</span>;</span><br><span class="line">            <span class="keyword">move</span> -a -ws -wd $get_v_pos_new[<span class="number">0</span>] $get_v_pos_new[<span class="number">1</span>] $get_v_pos_new[<span class="number">2</span>] $av;         </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">string</span> $final_commond = <span class="string">"blendShape -frontOfChain  -n \"TEST\" "</span>+$all_BL + $a[<span class="keyword">size</span>($a)<span class="number">-1</span>];</span><br><span class="line"><span class="keyword">eval</span> $final_commond;</span><br><span class="line"><span class="keyword">delete</span> $new_node;</span><br></pre></td></tr></table></figure>
<h4 id="python-关于路径的"><a href="#python-关于路径的" class="headerlink" title="python 关于路径的"></a>python 关于路径的</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymel.core <span class="keyword">as</span> pm</span><br><span class="line"><span class="keyword">import</span> re,shutil</span><br><span class="line"> </span><br><span class="line">fileList=pm.ls( type=<span class="string">'file'</span> )</span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> fileList:</span><br><span class="line">    path=f.fileTextureName.get()</span><br><span class="line">    path1 = re.sub( <span class="string">r'/'</span>, <span class="string">r'\\'</span>, path )</span><br><span class="line">    <span class="comment">#os.path.normpath(path)</span></span><br><span class="line">    shutil.copy( path1,  <span class="string">'D:\\ne\\other\\ceshi\\ceshi\\sourceimages'</span> )</span><br><span class="line">    f.fileTextureName.set( <span class="string">'D:\\ne\\other\\ceshi\\ceshi\\sourceimages\\%s'</span> % os.path.basename(path1) )</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">print</span> os.path.isfile(path)</span><br><span class="line">//////////////////////////</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path= <span class="string">u'//Its_6688/T/God/textures/props/kit_chi_baz_P_baz_bum.jpg'</span> </span><br><span class="line">path = os.path.normpath(path)</span><br><span class="line">os.path.join(path)</span><br><span class="line"><span class="keyword">print</span> path</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> os.path.normpath(path)</span><br><span class="line"></span><br><span class="line">path = path.replace(<span class="string">'/'</span>, <span class="string">'\\'</span>)</span><br><span class="line"><span class="keyword">print</span> path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> os.path.isfile(path)</span><br></pre></td></tr></table></figure>
<h4 id="python-cut-curve"><a href="#python-cut-curve" class="headerlink" title="python  cut_curve"></a>python  cut_curve</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> mc  </span><br><span class="line"><span class="keyword">import</span> maya.mel <span class="keyword">as</span> mel  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cut_curve</span><span class="params">()</span>:</span>  </span><br><span class="line">    sels = mc.ls(sl=<span class="keyword">True</span>)  </span><br><span class="line">    mesh = sels[<span class="number">-1</span>]  </span><br><span class="line">    <span class="keyword">for</span> sel <span class="keyword">in</span> sels[:<span class="number">-1</span>]:  </span><br><span class="line">        <span class="keyword">try</span>:  </span><br><span class="line">            cur = mc.polyProjectCurve(sel, mesh, ch=<span class="number">0</span>, pointsOnEdges=<span class="number">1</span>, curveSamples=<span class="number">50</span>, automatic=<span class="number">1</span>)[<span class="number">0</span>]  </span><br><span class="line">            cur_chr = mc.listRelatives(cur, c=<span class="keyword">True</span>)[<span class="number">0</span>]  </span><br><span class="line">            mc.arclen(cur_chr, ch=<span class="keyword">True</span>)  </span><br><span class="line">            mc.select([sel, cur])  </span><br><span class="line">            mel.eval(<span class="string">'cutCurvePreset(1,1,0.01,6,0,1,0,2,2)'</span>)  </span><br><span class="line">            mc.delete(cur)  </span><br><span class="line">        <span class="keyword">except</span>:   </span><br><span class="line">            <span class="keyword">pass</span>  </span><br><span class="line">cut_curve()</span><br></pre></td></tr></table></figure>
<h4 id="python-讨论"><a href="#python-讨论" class="headerlink" title="python  讨论"></a>python  讨论</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding = utf-8</span></span><br><span class="line">a = <span class="string">r'''&#123;'_pydevd_bundle.pydevd_resolver':&lt;module '_pydevd_bundle.pydevd_resolver'&gt;'_pydevd_bundle.pydevd_resolver'&#125;'''</span></span><br><span class="line">c = a.replace( <span class="string">"&lt;"</span> , <span class="string">"'"</span> ).replace( <span class="string">"&gt;"</span> , <span class="string">"'"</span>).replace( <span class="string">"\\"</span> , <span class="string">'/'</span>)</span><br><span class="line"><span class="keyword">print</span> c</span><br><span class="line"></span><br><span class="line">word = <span class="string">"&#123;'a':1,&lt;'b':&gt;2&lt;,'c':3&#125;"</span></span><br><span class="line">new_word = word.replace(<span class="string">"&lt;"</span>, <span class="string">""</span>).replace(<span class="string">"&gt;"</span>,<span class="string">""</span>)</span><br><span class="line"><span class="keyword">print</span> new_word</span><br><span class="line"></span><br><span class="line">de = <span class="string">r'C:\ni\tbbb\yyyy'</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'/'</span>.join(de.split(<span class="string">'\\'</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> mc</span><br><span class="line">obj = <span class="string">'pSphere1'</span></span><br><span class="line">loc = mc.spaceLocator()[<span class="number">0</span>]</span><br><span class="line">mc.delete((mc.pointConstraint(loc,obj)[<span class="number">0</span>], loc))</span><br></pre></td></tr></table></figure>
<h4 id="mel-CMD-相关"><a href="#mel-CMD-相关" class="headerlink" title="mel  CMD 相关"></a>mel  CMD 相关</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( <span class="string">`objExists surface1`</span> ) &#123;</span><br><span class="line">    <span class="keyword">select</span> surface1;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">warning</span> <span class="string">"No surface exists"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">system</span>(<span class="string">"ipconfig \all \\\fanluo"</span>)</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"mstsc"</span>)</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"help"</span>)</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"rd e:\Other "</span>);</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"attrib +h +s e:\Other"</span>)</span><br><span class="line"><span class="keyword">system</span> (<span class="string">"load C:\Python26/Doc/python264.chm"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">filterExpand</span> -sm <span class="number">31</span>;</span><br><span class="line"><span class="comment">//用这个命令就能把点都分开了//</span></span><br><span class="line"><span class="keyword">system</span>(<span class="string">"load  C://Documents and Settings//fanluo//Local Settings//Temp"</span>)</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"explorer \\\\192.168.1.4\\scripts"</span>)</span><br><span class="line"><span class="comment">// On Windows</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">system</span>(<span class="string">"start C:/WINNT/NOTEPAD.EXE"</span> );</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"start C:/Program Files/360/360se/360SE.exe www.google.com"</span> );</span><br><span class="line">$directoryListing = <span class="keyword">system</span>(<span class="string">"DIR"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make a sample file to use as a test example</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">$exampleFileName = ( <span class="string">`internalVar -userTmpDir`</span> + <span class="string">"example.txt"</span> );</span><br><span class="line">$fileId=<span class="string">`fopen $exampleFileName "w"`</span>;</span><br><span class="line"><span class="keyword">fprint</span> $fileId <span class="string">"Hello there\n"</span>;</span><br><span class="line"><span class="keyword">fclose</span> $fileId;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use the "load" keyword to open the file with the default app.</span></span><br><span class="line"><span class="comment">// (Windows only)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">system</span>(<span class="string">"load "</span> + $exampleFileName );</span><br><span class="line"><span class="keyword">createNode</span> polyEdgeToCurve</span><br><span class="line"><span class="keyword">createNode</span> motionPath</span><br><span class="line"></span><br><span class="line"><span class="keyword">toNativePath</span> <span class="string">`file -q -sn`</span></span><br><span class="line"><span class="keyword">memory</span> -summary</span><br><span class="line"><span class="keyword">system</span>(<span class="string">"ipconfig /all"</span>)</span><br><span class="line"><span class="keyword">string</span> $dir = <span class="string">`internalVar -userScriptDir`</span>;</span><br><span class="line"><span class="keyword">toNativePath</span> $dir;</span><br><span class="line"><span class="keyword">string</span> $envFile = <span class="string">`about -environmentFile`</span>;</span><br><span class="line"><span class="keyword">toNativePath</span> $envFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">about</span> -version;</span><br><span class="line"><span class="keyword">about</span> -operatingSystem;</span><br><span class="line"></span><br><span class="line"><span class="keyword">file</span> -q -ns</span><br><span class="line"></span><br><span class="line"><span class="keyword">currentUnit</span> -ua <span class="number">1</span> -t film</span><br></pre></td></tr></table></figure>
<h4 id="mel-列出蒙皮骨骼"><a href="#mel-列出蒙皮骨骼" class="headerlink" title="mel  列出蒙皮骨骼"></a>mel  列出蒙皮骨骼</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> $skinObj[] = <span class="string">` ls -sl `</span>;</span><br><span class="line"><span class="keyword">string</span> $skinJnt[] = <span class="string">`skinCluster -q -inf $skinObj`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//列出左侧骨骼的命名</span></span><br><span class="line">	<span class="keyword">for</span> ($aa <span class="keyword">in</span> $skinJnt)&#123;</span><br><span class="line">		<span class="keyword">string</span> $leftJnt[] = <span class="string">`ls -type joint "*_l" "*_l?"`</span>;</span><br><span class="line">   		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> ($bb <span class="keyword">in</span> $leftJnt)&#123;</span><br><span class="line">		<span class="keyword">int</span> $num = <span class="string">`size $bb`</span>;</span><br><span class="line">		<span class="keyword">string</span> $nameSufix[];</span><br><span class="line">		<span class="keyword">int</span> $nameNum = <span class="string">`tokenize $bb "_" $nameSufix`</span>;</span><br><span class="line">		<span class="keyword">int</span> $sufixNum = <span class="string">`size $nameSufix[$nameNum-1]`</span>+<span class="number">1</span>;</span><br><span class="line">		$name= <span class="string">`substring $bb 1 ($num -$sufixNum)`</span>;</span><br><span class="line">		<span class="keyword">print</span> ($name+<span class="string">"\n"</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//列出右侧骨骼的命名</span></span><br><span class="line">	<span class="keyword">for</span>($cc <span class="keyword">in</span> $skinJnt)&#123;</span><br><span class="line">	<span class="keyword">string</span> $rightJnt[] = <span class="string">`ls -type joint "*_r" "*_r?"`</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> ($dd <span class="keyword">in</span> $rightJnt)&#123;</span><br><span class="line">		<span class="keyword">int</span> $rnum = <span class="string">`size $dd`</span>;</span><br><span class="line">		<span class="keyword">string</span> $rnameSufix[];</span><br><span class="line">		<span class="keyword">int</span> $rnameNum = <span class="string">`tokenize $dd "_" $rnameSufix`</span>;</span><br><span class="line">		<span class="keyword">int</span> $rsufixNum = <span class="string">`size $rnameSufix[$rnameNum-1]`</span>+<span class="number">1</span>;</span><br><span class="line">		$rname= <span class="string">`substring $dd 1 ($rnum -$rsufixNum)`</span>;</span><br><span class="line">		<span class="comment">//print ($rname+"\n");</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//////////////////////////</span></span><br><span class="line"><span class="keyword">string</span> $skinJnt[] = <span class="string">`skinCluster -q -inf Body`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> $skinJnt;</span><br><span class="line"><span class="keyword">string</span> $jj[]=<span class="string">`ls -type joint -sl "*_l" "*_r"`</span>;</span><br><span class="line"></span><br><span class="line">ScriptEditor;</span><br><span class="line"><span class="keyword">scriptEditorInfo</span> -edit -clearHistory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>($n <span class="keyword">in</span> $jj)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line">$num=<span class="string">`tokenize $n "_" $buffer`</span>;</span><br><span class="line">$new=$buffer[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">1</span>;$i&lt;$num<span class="number">-1</span>;$i++)</span><br><span class="line">$new+=<span class="string">"_"</span>+$buffer[$i];</span><br><span class="line">$newL=$new+<span class="string">"_l"</span>;</span><br><span class="line">$newR=$new+<span class="string">"_r"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newL,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newL+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newR,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newR+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">select</span> $skinJnt;</span><br><span class="line"><span class="keyword">string</span> $jj[]=<span class="string">`ls -type joint -sl "*_l_*" "*_r_*" `</span>;</span><br><span class="line"><span class="keyword">for</span>($n <span class="keyword">in</span> $jj)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line">$num=<span class="string">`tokenize $n "_" $buffer`</span>;</span><br><span class="line">$new=$buffer[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">1</span>;$i&lt;$num<span class="number">-2</span>;$i++)</span><br><span class="line">$new+=<span class="string">"_"</span>+$buffer[$i];</span><br><span class="line">$newL=$new+<span class="string">"_l_"</span>+$buffer[$num<span class="number">-1</span>];</span><br><span class="line">$newR=$new+<span class="string">"_r_"</span>+$buffer[$num<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newL,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newL+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newR,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newR+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">select</span> $skinJnt;</span><br><span class="line"><span class="keyword">string</span> $jj[]=<span class="string">`ls -type joint -sl "*_l_ex_*" "*_r_ex_*"`</span>;</span><br><span class="line"><span class="keyword">for</span>($n <span class="keyword">in</span> $jj)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line">$num=<span class="string">`tokenize $n "_" $buffer`</span>;</span><br><span class="line">$new=$buffer[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">1</span>;$i&lt;$num<span class="number">-2</span>;$i++)</span><br><span class="line">$new+=<span class="string">"_"</span>+$buffer[$i];</span><br><span class="line">$newL=$new+<span class="string">"_ex_"</span>+$buffer[$num<span class="number">-1</span>];</span><br><span class="line">$newR=$new+<span class="string">"_ex_"</span>+$buffer[$num<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newL,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newL+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newR,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newR+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> $skinJnt;</span><br><span class="line"><span class="keyword">string</span> $jj[]=<span class="string">`ls -type joint -sl "*_l?" "*_r?" "*_l??" "*_r??"`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>($n <span class="keyword">in</span> $jj)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">string</span> $buffer[];</span><br><span class="line">$num=<span class="string">`tokenize $n "_" $buffer`</span>;</span><br><span class="line">$new=$buffer[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">1</span>;$i&lt;$num<span class="number">-1</span>;$i++)</span><br><span class="line">$new+=<span class="string">"_"</span>+$buffer[$i];</span><br><span class="line"></span><br><span class="line"><span class="keyword">tokenize</span> $buffer[$num<span class="number">-1</span>] <span class="string">"lr"</span> $buffer;</span><br><span class="line"></span><br><span class="line">$newL=$new+<span class="string">"_l"</span>+ $buffer[<span class="number">0</span>];</span><br><span class="line">$newR=$new+<span class="string">"_r"</span>+ $buffer[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newL,$jj))</span><br><span class="line">	<span class="keyword">print</span> ($newL+<span class="string">"   未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">stringArrayContains</span>($newR,$jj))</span><br><span class="line">	<span class="keyword">print</span>($newR+<span class="string">" 未参与蒙皮"</span>+<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="mel-创建螺旋线"><a href="#mel-创建螺旋线" class="headerlink" title="mel  创建螺旋线"></a>mel  创建螺旋线</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> $command=<span class="string">"curve -d 3"</span>;</span><br><span class="line">  <span class="keyword">for</span>($i=<span class="number">1</span>;$i&lt;=<span class="number">100</span>;$i++) </span><br><span class="line">   &#123;  </span><br><span class="line">   <span class="keyword">float</span> $x=<span class="number">5</span>*<span class="keyword">sin</span>($i);  </span><br><span class="line">   <span class="keyword">float</span> $z=<span class="number">5</span>*<span class="keyword">cos</span>($i);  </span><br><span class="line">   <span class="keyword">float</span> $y=$i; </span><br><span class="line">   $command+=<span class="string">" -p "</span>+$x+<span class="string">" "</span>+$y+<span class="string">" "</span>+$z;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">eval</span> $command;</span><br></pre></td></tr></table></figure>
<h4 id="python-Test"><a href="#python-Test" class="headerlink" title="python Test"></a>python Test</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">aa</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    num = str(b)</span><br><span class="line">    cut = a - len(num)    </span><br><span class="line">    strCut = str(cut*<span class="string">'0'</span>)</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'%s%s'</span>)%(strCut, num )    </span><br><span class="line">aa(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">selectNumbe = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]<span class="comment">#这是被选中的数字</span></span><br><span class="line">arr = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">34</span>)]</span><br><span class="line">newArr = arr[:]</span><br><span class="line"><span class="keyword">for</span> sel <span class="keyword">in</span> selectNumbe:</span><br><span class="line">    newArr.remove(sel)</span><br><span class="line"><span class="keyword">if</span> len(newArr)&gt;<span class="number">1</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">        <span class="keyword">print</span> random.choice(newArr)</span><br><span class="line">    <span class="keyword">print</span> random.randint(<span class="number">1</span>,<span class="number">16</span>)</span><br></pre></td></tr></table></figure>
<h4 id="py-re分割字符串"><a href="#py-re分割字符串" class="headerlink" title="py.re分割字符串"></a>py.re分割字符串</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">a=<span class="string">"F_K"</span></span><br><span class="line">b=re.sub(<span class="string">"_"</span>,<span class="string">""</span>,a)</span><br><span class="line"><span class="keyword">print</span> b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">a=<span class="string">"F_K"</span></span><br><span class="line">b=re.split(<span class="string">"_"</span>,a)</span><br><span class="line"><span class="keyword">print</span> b</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">a=<span class="string">"F_K"</span></span><br><span class="line">a=<span class="string">":"</span>.join(a.split(<span class="string">"_"</span>))</span><br><span class="line"><span class="keyword">print</span> a</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">s = <span class="string">'safdafd=adsfsafff-sadsfasfd*adfdf--af45555'</span></span><br><span class="line"><span class="keyword">print</span> re.split(<span class="string">r'[=\-\-?\*]'</span>, s)</span><br><span class="line"><span class="keyword">print</span> re.split(<span class="string">r'[=\-\-?\*]+'</span>, s)</span><br></pre></td></tr></table></figure>
<h4 id="编译py"><a href="#编译py" class="headerlink" title="编译py"></a>编译py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> py_compile</span><br><span class="line">py_compile.compile(<span class="string">r'X:\xxx.py'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="mel-分割字符串"><a href="#mel-分割字符串" class="headerlink" title="mel 分割字符串"></a>mel 分割字符串</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">eval</span> <span class="string">"source \"C:/Users/Public/Pixologic/GoZApps/Maya/GoZScript.mel\""</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">string</span> $dd[]= <span class="string">`ls -sl`</span>;</span><br><span class="line">		<span class="keyword">int</span> $rnum = <span class="string">`size $dd`</span>;</span><br><span class="line">		<span class="keyword">string</span> $rnameSufix[];</span><br><span class="line">		<span class="keyword">int</span> $rnameNum = <span class="string">`tokenize $dd[0] "." $rnameSufix`</span>;</span><br><span class="line">		<span class="keyword">string</span> $objName = $rnameSufix[<span class="number">1</span>]; </span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> $rsufixNum = <span class="string">`size $rnameSufix[$rnameNum]`</span>;</span><br><span class="line">		$rname= <span class="string">`substring $dd[0] 1 ($rnum +$rsufixNum)`</span>;</span><br><span class="line">		<span class="keyword">print</span> $rname;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////</span></span><br><span class="line"><span class="keyword">string</span> $buffer1[];</span><br><span class="line">$numTokens = <span class="string">`tokenize "A/B/C/D" "/" $buffer1`</span>;</span><br><span class="line"><span class="keyword">print</span> $buffer1[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h4 id="打断链接-py"><a href="#打断链接-py" class="headerlink" title="打断链接 py"></a>打断链接 py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymel.core <span class="keyword">import</span> *</span><br><span class="line">a = PyNode(<span class="string">'connect obj'</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> a.listConnections(c=<span class="number">1</span>,p=<span class="number">1</span>):</span><br><span class="line">    x[<span class="number">0</span>] // x[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#打断两个物体间所有的连接：有问题</span></span><br><span class="line"><span class="keyword">from</span> pymel.core <span class="keyword">import</span> *</span><br><span class="line">a = PyNode(<span class="string">'pSphere1'</span>)</span><br><span class="line">b = PyNode(<span class="string">'pCube4'</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> a.listConnections(c=<span class="number">1</span>,p=<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> x[<span class="number">1</span>]._node.name()==<span class="string">'pCube4'</span>:</span><br><span class="line">        x[<span class="number">0</span>] // x[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h4 id="打开端口-py"><a href="#打开端口-py" class="headerlink" title="打开端口 py"></a>打开端口 py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line"></span><br><span class="line"><span class="comment"># Close ports if they were already open under another configuration</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">         cmds.commandPort(name=<span class="string">":7001"</span>, close=<span class="keyword">True</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">     cmds.warning(<span class="string">'Could not close port 7001 (maybe it is not opened yet...)'</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">     cmds.commandPort(name=<span class="string">":7002"</span>, close=<span class="keyword">True</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">     cmds.warning(<span class="string">'Could not close port 7002 (maybe it is not opened yet...)'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Open new ports</span></span><br><span class="line">cmds.commandPort(name=<span class="string">":7001"</span>, sourceType=<span class="string">"mel"</span>)</span><br><span class="line">cmds.commandPort(name=<span class="string">":7002"</span>, sourceType=<span class="string">"python"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="格式话字符串-py"><a href="#格式话字符串-py" class="headerlink" title="格式话字符串 py"></a>格式话字符串 py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> <span class="string">"让我们来写个&#123;0&#125;花&#123;1&#125;门的&#123;2&#125;吧！可以一会这样:&#123;0:x&gt;3d&#125;或者&#123;1:0&gt;4d&#125;，再一会这样:&#123;hi[0]&#125; &#123;hi[2]&#125;..."</span>.format(<span class="number">5</span>,<span class="number">8</span>,<span class="string">"format"</span>,hi=[<span class="string">"hello"</span>,<span class="string">"nihao"</span>,<span class="string">"world"</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"让我们来写个&#123;0&#125;花&#123;1&#125;门的&#123;2&#125;吧！可以一会这样:&#123;0:x&gt;3d&#125;或者&#123;1:0&gt;4d&#125;，再一会这样:&#123;hi[0]&#125; &#123;wd&#125;..."</span>.format(<span class="number">5</span>,<span class="number">8</span>,<span class="string">"format"</span>,hi=[<span class="string">"hello"</span>,<span class="string">"nihao"</span>],wd=<span class="string">"world"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"再补充点浮点数取值的&#123;my_float:.2f&#125;，和一个整数的各种进制：二进制&#123;my_int:b&#125;、十进制&#123;my_int:d&#125;、八进制&#123;my_int:o&#125;、十六进制&#123;my_int:x&#125;。"</span>.format(my_float=<span class="number">3.1415926</span>, my_int=<span class="number">21</span>)</span><br></pre></td></tr></table></figure>
<h4 id="mel"><a href="#mel" class="headerlink" title="mel"></a>mel</h4><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//名字返回</span></span><br><span class="line"><span class="keyword">promptDialog</span>  -message <span class="string">"Enter name:"</span> -<span class="keyword">button</span> <span class="string">"Ok"</span> -<span class="keyword">button</span> <span class="string">"Cancel"</span> ;</span><br><span class="line"><span class="keyword">promptDialog</span> -query;</span><br><span class="line"><span class="comment">//文件夹创建</span></span><br><span class="line"><span class="keyword">sysFile</span> -makeDir  <span class="string">"C:/temp/mayaStuff"</span>;</span><br><span class="line"><span class="comment">//程序窗口定义</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">proc</span> peopleselection()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="string">`window -ex mypeople`</span>) <span class="keyword">deleteUI</span> mypeople;</span><br><span class="line"><span class="keyword">window</span> -t <span class="string">"渲染选择工具"</span> mypeople;</span><br><span class="line"><span class="keyword">columnLayout</span> -adj <span class="number">1</span>;</span><br><span class="line"><span class="keyword">button</span> -l <span class="string">"待加入"</span>;</span><br><span class="line"><span class="keyword">showWindow</span> mypeople;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询中心轴坐标 </span></span><br><span class="line"><span class="keyword">float</span> $getPivotPos[] = <span class="string">`manipMoveContext -q -p Move`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//MAYA启动画面修改方法</span></span><br><span class="line">替换C:\Program Files\Autodesk\Maya2014\icons\MayaStartupImage.png的图即可</span><br></pre></td></tr></table></figure>
<h4 id="maya-python"><a href="#maya-python" class="headerlink" title="maya python"></a>maya python</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#向前取整</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">print</span> math.ceil(<span class="number">1.9</span>)</span><br><span class="line"><span class="comment">#类型转换</span></span><br><span class="line">float(<span class="number">1</span>)</span><br><span class="line">int(<span class="number">1.5</span>)</span><br><span class="line">str(<span class="number">1</span>)</span><br><span class="line"><span class="comment">#组编辑,增加red字符</span></span><br><span class="line">mylist = []</span><br><span class="line">mylist.append(<span class="string">'red'</span>)</span><br><span class="line"><span class="keyword">print</span> mylist</span><br><span class="line"><span class="comment">##拆分字符串组</span></span><br><span class="line">re.split(<span class="string">''</span>,mylist)</span><br><span class="line"><span class="comment">#组编辑,增加test字符,并放置第一位</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line">mylist.insert(<span class="number">0</span>,<span class="string">'test'</span>)</span><br><span class="line"><span class="keyword">print</span> mylist</span><br><span class="line"><span class="comment">#组编辑,增加test字符,并放置倒数第一位</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line">mylist.insert(<span class="number">-1</span>,<span class="string">'test'</span>)</span><br><span class="line"><span class="keyword">print</span> mylist</span><br><span class="line"><span class="comment">#组编辑,去掉red字符</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line">mylist.remove(<span class="string">'red'</span>)</span><br><span class="line"><span class="keyword">print</span> mylist</span><br><span class="line"><span class="comment">#组编辑，找出位于1的字符</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line"><span class="keyword">print</span> mylist.pop(<span class="number">1</span>)</span><br><span class="line"><span class="comment">#组编辑，找出green的位置符</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line"><span class="keyword">print</span> mylist.index(<span class="string">'green'</span>)</span><br><span class="line"><span class="comment">#组编辑，显示组的总数</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line"><span class="keyword">print</span> len(mylist)</span><br><span class="line"><span class="comment">#取数0 和1位置的  忽略了最后一位</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line"><span class="keyword">print</span> mylist[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line"><span class="comment">#判断语句if</span></span><br><span class="line">myvar = <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> myvar&lt;<span class="number">2</span>:</span><br><span class="line"> print(<span class="string">"yes"</span>)</span><br><span class="line"><span class="keyword">elif</span> myvar==<span class="number">3</span>:</span><br><span class="line"> print(<span class="string">"是确实是3"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"> print(<span class="string">"no"</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="number">1</span>&lt;<span class="number">2</span> <span class="keyword">and</span> <span class="number">3</span> == <span class="number">3</span>:</span><br><span class="line"> print(<span class="string">"是的 完全正确"</span>)</span><br><span class="line"><span class="comment">#while循环</span></span><br><span class="line">myvar = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> myvar &lt;<span class="number">10</span>:</span><br><span class="line"> <span class="keyword">print</span> myvar</span><br><span class="line"> myvar = myvar +<span class="number">1</span></span><br><span class="line"><span class="comment">#for # in #循环操作</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]</span><br><span class="line"><span class="keyword">print</span> mylist</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> mylist:</span><br><span class="line"> <span class="keyword">print</span> i</span><br><span class="line"><span class="comment">#同样是for in循环操作  try尝试执行与不然就用except</span></span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>,<span class="number">1</span>,<span class="number">2.0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> mylist:</span><br><span class="line"> <span class="keyword">try</span>:</span><br><span class="line">     <span class="keyword">print</span> int(i+<span class="number">1</span>)</span><br><span class="line"> <span class="keyword">except</span>:</span><br><span class="line">     <span class="keyword">print</span> i</span><br><span class="line">mylist = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>,<span class="number">1</span>,<span class="number">2.0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> mylist:</span><br><span class="line"> <span class="keyword">try</span>:</span><br><span class="line">     <span class="keyword">print</span> int(i+<span class="number">1</span>)</span><br><span class="line"> <span class="keyword">except</span>:</span><br><span class="line">     <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#定义程序命令</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mytest</span><span class="params">()</span>:</span></span><br><span class="line"> <span class="keyword">print</span> <span class="string">"hello world"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds<span class="comment">#导入命令</span></span><br><span class="line">maya.cmds.polySphere(radius=<span class="number">5</span>)<span class="comment">#创建小球半径为5</span></span><br><span class="line">maya.cmds.polyColorPerVertex(<span class="comment">#显示定点色</span></span><br><span class="line">   colorRGB=[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">   colorDisplayOption=<span class="keyword">True</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">########创建一个名为newtest2的小球  '',""."""   """ 都是类似mel字符串""的方式</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds</span><br><span class="line">maya.cmds.polyCube(</span><br><span class="line">   n=<span class="string">"""newtest2"""</span>,w=<span class="number">10</span>,h=<span class="number">10</span>,d=<span class="number">10</span>,sx=<span class="number">2</span>,sy=<span class="number">2</span>,sz=<span class="number">2</span>,ax=(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>),cuv=<span class="number">4</span>,ch=<span class="number">1</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">#############编辑模式，将名为pCube1的小球半径设置为10</span></span><br><span class="line">maya.cmds.polyCube(<span class="string">'pCube1'</span>,edit=<span class="keyword">True</span>,width=<span class="number">10</span>)</span><br><span class="line"><span class="comment">#############查询属性数值模式</span></span><br><span class="line">maya.cmds.polyCube(<span class="string">'pCube1'</span>,query=<span class="keyword">True</span>,width=<span class="keyword">True</span>)</span><br><span class="line"><span class="comment">##帮助文档里的例子</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">cmds.polyCube( sx=<span class="number">10</span>, sy=<span class="number">15</span>, sz=<span class="number">5</span>, h=<span class="number">20</span> )</span><br><span class="line">w = cmds.polyCube( <span class="string">'polyCube1'</span>, q=<span class="keyword">True</span>, h=<span class="keyword">True</span> )</span><br><span class="line"><span class="keyword">print</span> w</span><br><span class="line"><span class="comment">###查询当前MAYA pyhton的版本</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">print</span> (sys.version)</span><br><span class="line"><span class="comment">##查询小球的半径 并且建立一个新的方块使长宽高等于直径</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">rad = maya.cmds.polySphere(</span><br><span class="line">   <span class="string">'pSphereShape1'</span>,q=<span class="keyword">True</span>,radius=<span class="keyword">True</span></span><br><span class="line">)</span><br><span class="line">maya.cmds.polyCube(</span><br><span class="line">   w=rad*<span class="number">2</span>,</span><br><span class="line">   h=rad*<span class="number">2</span>,</span><br><span class="line">   d=rad*<span class="number">2</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment">########具有重名问题的 py.cmds命令  过后会在 pymel里解决</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">maya.cmds.polySphere(name=<span class="string">'head'</span>)</span><br><span class="line">maya.cmds.polyCube(name=<span class="string">'head'</span>)</span><br><span class="line">maya.cmds.polyCube(<span class="string">'head1'</span>,q=<span class="keyword">True</span>,height=<span class="keyword">True</span>)</span><br><span class="line"><span class="comment">######getAttr 和setAttre的用法  同样的xform可以直接明确的指向对象为translation</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">loc = maya.cmds.spaceLocator()[<span class="number">0</span>]</span><br><span class="line">sx = maya.cmds.getAttr(loc+<span class="string">'.scaleX'</span>)</span><br><span class="line">sx *=<span class="number">2</span></span><br><span class="line">maya.cmds.setAttr(loc+<span class="string">'.scale'</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">##方块关联小球属性的案例（比如深水井拉绳子的绑定）</span></span><br><span class="line"><span class="keyword">import</span> maya.cmds <span class="keyword">as</span> cmds</span><br><span class="line">qiu = maya.cmds.polySphere()[<span class="number">0</span>]</span><br><span class="line">fangkuai = maya.cmds.polyCube()[<span class="number">0</span>]</span><br><span class="line"><span class="comment">##maya.cmds.connectAttr(fangkuai+'.ry',qiu+'.ty') 方块的旋转Y连接求的移动Y</span></span><br><span class="line"><span class="comment">##maya.cmds.disconnectAttr(fangkuai+'.ry',qiu+'.ty') 断开连接</span></span><br><span class="line">yucheng = maya.cmds.createNode(<span class="string">'multiplyDivide'</span>) <span class="comment">##方块每转90度 小球移动一个单位</span></span><br><span class="line">maya.cmds.connectAttr(fangkuai+<span class="string">'.ry'</span>,yucheng+<span class="string">'.input1X'</span>)</span><br><span class="line">maya.cmds.setAttr(yucheng+<span class="string">'.input2X'</span>,<span class="number">1.0</span>/<span class="number">90.0</span>)</span><br><span class="line">maya.cmds.connectAttr(yucheng+<span class="string">'.outputX'</span>,qiu+<span class="string">'.ty'</span>)</span><br><span class="line">maya.cmds.select(fangkuai)</span><br></pre></td></tr></table></figure>
<h4 id="enumerate-函数用于遍历序列中的元素以及它们的下标："><a href="#enumerate-函数用于遍历序列中的元素以及它们的下标：" class="headerlink" title="enumerate 函数用于遍历序列中的元素以及它们的下标："></a>enumerate 函数用于遍历序列中的元素以及它们的下标：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate((<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>)):</span><br><span class="line"> <span class="keyword">print</span> i,j</span><br><span class="line"> </span><br><span class="line"><span class="number">0</span> a</span><br><span class="line"><span class="number">1</span> b</span><br><span class="line"><span class="number">2</span> c</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]):</span><br><span class="line"> <span class="keyword">print</span> i,j</span><br><span class="line"> </span><br><span class="line"><span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(&#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>&#125;):</span><br><span class="line"> <span class="keyword">print</span> i,j</span><br><span class="line"> </span><br><span class="line"><span class="number">0</span> a</span><br><span class="line"><span class="number">1</span> b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(<span class="string">'abc'</span>):</span><br><span class="line"> <span class="keyword">print</span> i,j</span><br><span class="line"> </span><br><span class="line"><span class="number">0</span> a</span><br><span class="line"><span class="number">1</span> b</span><br><span class="line"><span class="number">2</span> c</span><br></pre></td></tr></table></figure>
<h4 id="doc"><a href="#doc" class="headerlink" title="__doc__"></a><code>__doc__</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    这里的信息能获取吗</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p><img src="./python.png" alt="Alter"></p>
</div></article></div></main><footer><div class="paginator"></div><div class="copyright"><p>© 2017 <a href="https://github.com/iVerb/iverb.github.io">iVerb</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>